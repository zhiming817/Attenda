# Attenda æ´»åŠ¨ç®¡ç†é¡µé¢

## ğŸ“ é¡µé¢ç»“æ„

å·²åœ¨ `frontend/web/src/pages/events/` ç›®å½•ä¸‹åˆ›å»ºä»¥ä¸‹é¡µé¢:

### 1. **Home.jsx** - é¦–é¡µ
- åŠŸèƒ½: Attenda å¹³å°çš„ä¸»é¡µ/è½åœ°é¡µ
- è·¯ç”±: `/`
- ç‰¹æ€§:
  - Hero åŒºåŸŸä»‹ç» Attenda å¹³å°
  - å±•ç¤ºé—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ
  - å¦‚ä½•ä½¿ç”¨æ­¥éª¤è¯´æ˜
  - æŠ€æœ¯æ ˆä»‹ç»
  - CTA æŒ‰é’®è·³è½¬åˆ°åˆ›å»ºæ´»åŠ¨å’Œæµè§ˆæ´»åŠ¨

### 2. **CreateEvent.jsx** - åˆ›å»ºæ´»åŠ¨
- åŠŸèƒ½: ç»„ç»‡è€…åˆ›å»ºæ–°æ´»åŠ¨
- è·¯ç”±: `/events/create`
- ç‰¹æ€§:
  - å®Œæ•´çš„æ´»åŠ¨ä¿¡æ¯è¡¨å•(æ ‡é¢˜ã€æè¿°ã€åœ°ç‚¹ã€æ—¶é—´ã€å®¹é‡ç­‰)
  - è°ƒç”¨æ™ºèƒ½åˆçº¦ `event_registry::create_event`
  - æ´»åŠ¨å…ƒæ•°æ®å­˜å‚¨(TODO: é›†æˆ Walrus)
  - åˆ›å»ºæˆåŠŸåè·³è½¬åˆ°"æˆ‘çš„æ´»åŠ¨"é¡µé¢
  
### 3. **EventList.jsx** - æµè§ˆæ´»åŠ¨åˆ—è¡¨
- åŠŸèƒ½: æµè§ˆæ‰€æœ‰å¯ç”¨æ´»åŠ¨
- è·¯ç”±: `/events/browse`
- ç‰¹æ€§:
  - ä»é“¾ä¸ŠæŸ¥è¯¢æ‰€æœ‰ `EventInfo` å¯¹è±¡
  - æ´»åŠ¨çŠ¶æ€ç­›é€‰(å…¨éƒ¨/æ´»è·ƒ/å·²ç»“æŸ)
  - ç½‘æ ¼å¸ƒå±€å±•ç¤ºæ´»åŠ¨å¡ç‰‡
  - æ˜¾ç¤ºç¥¨åˆ¸é”€å”®è¿›åº¦
  - ç‚¹å‡»å¡ç‰‡æŸ¥çœ‹æ´»åŠ¨è¯¦æƒ…

### 4. **EventDetail.jsx** - æ´»åŠ¨è¯¦æƒ…
- åŠŸèƒ½: æŸ¥çœ‹å•ä¸ªæ´»åŠ¨è¯¦æƒ…å¹¶è´­ä¹°ç¥¨åˆ¸
- è·¯ç”±: `/events/:eventId`
- ç‰¹æ€§:
  - æ˜¾ç¤ºå®Œæ•´çš„æ´»åŠ¨ä¿¡æ¯
  - å®æ—¶ç¥¨åˆ¸åº“å­˜æ˜¾ç¤º
  - è´­ä¹°ç¥¨åˆ¸æŒ‰é’®(è°ƒç”¨ `ticket_nft::mint_ticket`)
  - æ´»åŠ¨çŠ¶æ€æ ‡è¯†
  - è¿”å›åˆ—è¡¨æŒ‰é’®

### 5. **MyEvents.jsx** - æˆ‘çš„æ´»åŠ¨(ç»„ç»‡è€…)
- åŠŸèƒ½: ç®¡ç†è‡ªå·±åˆ›å»ºçš„æ´»åŠ¨
- è·¯ç”±: `/events/my`
- ç‰¹æ€§:
  - æŸ¥è¯¢å½“å‰ç”¨æˆ·æ‹¥æœ‰çš„ `EventInfo` å¯¹è±¡
  - æ˜¾ç¤ºç¥¨åˆ¸é”€å”®ç»Ÿè®¡
  - æ´»åŠ¨çŠ¶æ€ç®¡ç†æŒ‰é’®(Active/Paused/Closed/Cancelled)
  - è°ƒç”¨ `event_registry::set_status` æ›´æ–°çŠ¶æ€
  - è·³è½¬åˆ°è¯¦æƒ…é¡µé¢

### 6. **MyTickets.jsx** - æˆ‘çš„ç¥¨åˆ¸
- åŠŸèƒ½: æŸ¥çœ‹è‡ªå·±è´­ä¹°çš„æ‰€æœ‰ç¥¨åˆ¸
- è·¯ç”±: `/events/tickets`
- ç‰¹æ€§:
  - æŸ¥è¯¢å½“å‰ç”¨æˆ·æ‹¥æœ‰çš„ `Ticket` NFT
  - æ˜¾ç¤ºç¥¨åˆ¸ç»Ÿè®¡(æ€»æ•°/æœªä½¿ç”¨/å·²ä½¿ç”¨)
  - NFT å¡ç‰‡å±•ç¤º(ç¥¨åˆ¸ç±»å‹ã€æ´»åŠ¨IDã€é“¸é€ æ—¶é—´ç­‰)
  - è·³è½¬åˆ°å¯¹åº”æ´»åŠ¨è¯¦æƒ…

## ğŸ”— è·¯ç”±é…ç½®

`App.jsx` ä¸­å·²é…ç½®çš„è·¯ç”±:

```jsx
<Routes>
  <Route path="/" element={<Home />} />
  <Route path="/events/create" element={<CreateEvent />} />
  <Route path="/events/browse" element={<EventList />} />
  <Route path="/events/:eventId" element={<EventDetail />} />
  <Route path="/events/my" element={<MyEvents />} />
  <Route path="/events/tickets" element={<MyTickets />} />
</Routes>
```

## ğŸ§­ å¯¼èˆªæ æ›´æ–°

`Navbar.jsx` å·²æ›´æ–°ä¸ºæ´»åŠ¨ç›¸å…³çš„å¯¼èˆªé¡¹:

- ğŸ  **Home** - é¦–é¡µ
- â• **Create Event** - åˆ›å»ºæ´»åŠ¨
- ğŸ“‹ **Browse Events** - æµè§ˆæ´»åŠ¨
- ğŸ­ **My Events** - æˆ‘çš„æ´»åŠ¨
- ğŸ« **My Tickets** - æˆ‘çš„ç¥¨åˆ¸

## ğŸ”§ æ™ºèƒ½åˆçº¦é›†æˆ

### Package ID
```
0x5a29cc03847b88c5225fb960e6a6ada5ef7ff9fa57494e69a8d831d82f7a5f21
```

### ä½¿ç”¨çš„åˆçº¦æ¨¡å—

#### 1. **event_registry**
- `create_event(walrus_blob_id: vector<u8>, capacity: u64)` - åˆ›å»ºæ´»åŠ¨
- `set_status(event: &mut EventInfo, new_status: u8)` - æ›´æ–°æ´»åŠ¨çŠ¶æ€
- çŠ¶æ€ç : 0=Active, 1=Paused, 2=Closed, 3=Cancelled

#### 2. **ticket_nft**
- `mint_ticket(event_info: &mut EventInfo, ticket_type: String, encrypted_access: vector<u8>)` - é“¸é€ ç¥¨åˆ¸ NFT

### Sui SDK é’©å­ä½¿ç”¨

- `useCurrentAccount()` - è·å–å½“å‰è¿æ¥çš„é’±åŒ…è´¦æˆ·
- `useSuiClient()` - è·å– Sui å®¢æˆ·ç«¯æŸ¥è¯¢é“¾ä¸Šæ•°æ®
- `useSignAndExecuteTransaction()` - ç­¾åå¹¶æ‰§è¡Œäº¤æ˜“
- `Transaction` - æ„å»ºäº¤æ˜“è°ƒç”¨åˆçº¦å‡½æ•°

## ğŸ¨ UI/UX ç‰¹æ€§

### è®¾è®¡é£æ ¼
- **é…è‰²**: æ©™è‰²åˆ°çº¢è‰²æ¸å˜ (Orange-Red gradient)
- **å“ç‰Œ**: ğŸ­ Attenda logo
- **å“åº”å¼**: ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯è‡ªé€‚åº”
- **åŠ¨ç”»**: Hover æ”¾å¤§æ•ˆæœã€åŠ è½½åŠ¨ç”»

### ç”¨æˆ·ä½“éªŒ
- **è¿æ¥é’±åŒ…æç¤º**: æœªè¿æ¥é’±åŒ…æ—¶æ˜¾ç¤ºå‹å¥½æç¤º
- **åŠ è½½çŠ¶æ€**: æ•°æ®åŠ è½½æ—¶æ˜¾ç¤º spinner
- **é”™è¯¯å¤„ç†**: äº¤æ˜“å¤±è´¥æ—¶æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
- **ç©ºçŠ¶æ€**: æ²¡æœ‰æ•°æ®æ—¶æ˜¾ç¤ºå¼•å¯¼ä¿¡æ¯
- **çŠ¶æ€å¾½ç« **: æ¸…æ™°çš„æ´»åŠ¨çŠ¶æ€æ ‡è¯†

## ğŸ“ å¾…å®Œæˆäº‹é¡¹

### 1. Walrus é›†æˆ
å½“å‰ `CreateEvent.jsx` ä¸­ä½¿ç”¨æ¨¡æ‹Ÿçš„ Walrus Blob ID:
```javascript
const walrusStub = `walrus://event-${Date.now()}`;
```

éœ€è¦å®ç°:
- ä¸Šä¼ æ´»åŠ¨å…ƒæ•°æ®åˆ° Walrus
- è·å–çœŸå®çš„ Blob ID
- åœ¨æ´»åŠ¨è¯¦æƒ…é¡µé¢ä» Walrus è·å–å¹¶å±•ç¤ºå…ƒæ•°æ®

### 2. æ´»åŠ¨å…ƒæ•°æ®å±•ç¤º
- EventDetail é¡µé¢éœ€è¦ä» Walrus è¯»å–å…ƒæ•°æ®
- æ˜¾ç¤ºæ´»åŠ¨å›¾ç‰‡ã€å®Œæ•´æè¿°ç­‰ä¿¡æ¯

### 3. æ”¯ä»˜åŠŸèƒ½
- å½“å‰ç¥¨åˆ¸è´­ä¹°æ˜¯å…è´¹çš„
- éœ€è¦æ·»åŠ æ”¯ä»˜é€»è¾‘(SUI ä»£å¸è½¬è´¦)

### 4. æœç´¢å’Œç­›é€‰
- EventList é¡µé¢æ·»åŠ æœç´¢åŠŸèƒ½
- æŒ‰æ—¥æœŸã€åœ°ç‚¹ã€ç±»å‹ç­›é€‰æ´»åŠ¨

### 5. ç­¾åˆ°åŠŸèƒ½
- é›†æˆ `attendance` æ¨¡å—
- æ·»åŠ  QR ç æ‰«æç­¾åˆ°é¡µé¢
- å‘æ”¾ POAP (Proof of Attendance NFT)

## ğŸš€ å¦‚ä½•è¿è¡Œ

### 1. å®‰è£…ä¾èµ–
```bash
cd frontend/web
npm install
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

### 3. è®¿é—®åº”ç”¨
æ‰“å¼€æµè§ˆå™¨è®¿é—®: `http://localhost:5173`

### 4. è¿æ¥é’±åŒ…
- ç‚¹å‡»å³ä¸Šè§’ "Connect Wallet" æŒ‰é’®
- é€‰æ‹© Sui é’±åŒ…(å¦‚ Sui Wallet, Suiet ç­‰)
- ç¡®ä¿é’±åŒ…è¿æ¥åˆ° **testnet** ç½‘ç»œ

## ğŸ” æµ‹è¯•æµç¨‹

### åˆ›å»ºæ´»åŠ¨æµ‹è¯•
1. è¿æ¥é’±åŒ…
2. ç‚¹å‡» "Create Event" æˆ–å¯¼èˆªåˆ° `/events/create`
3. å¡«å†™æ´»åŠ¨è¡¨å•
4. ç‚¹å‡»"Create Event"æŒ‰é’®
5. åœ¨é’±åŒ…ä¸­ç¡®è®¤äº¤æ˜“
6. æˆåŠŸåä¼šè·³è½¬åˆ°"My Events"é¡µé¢

### è´­ä¹°ç¥¨åˆ¸æµ‹è¯•
1. æµè§ˆæ´»åŠ¨åˆ—è¡¨ `/events/browse`
2. ç‚¹å‡»æ´»åŠ¨å¡ç‰‡è¿›å…¥è¯¦æƒ…é¡µ
3. ç‚¹å‡»"Get Ticket"æŒ‰é’®
4. åœ¨é’±åŒ…ä¸­ç¡®è®¤äº¤æ˜“
5. æŸ¥çœ‹"My Tickets"é¡µé¢ç¡®è®¤ç¥¨åˆ¸

### ç®¡ç†æ´»åŠ¨æµ‹è¯•
1. è¿›å…¥"My Events"é¡µé¢
2. æŸ¥çœ‹è‡ªå·±åˆ›å»ºçš„æ´»åŠ¨åˆ—è¡¨
3. ä½¿ç”¨çŠ¶æ€æŒ‰é’®æ›´æ”¹æ´»åŠ¨çŠ¶æ€
4. æŸ¥çœ‹ç¥¨åˆ¸é”€å”®ç»Ÿè®¡

## ğŸ“š æŠ€æœ¯æ ˆ

- **React 18** - UI æ¡†æ¶
- **Vite** - æ„å»ºå·¥å…·
- **React Router 6** - è·¯ç”±ç®¡ç†
- **@mysten/dapp-kit** - Sui é’±åŒ…å’Œäº¤æ˜“é›†æˆ
- **@mysten/sui.js** - Sui SDK
- **TanStack Query** - æ•°æ®è·å–å’Œç¼“å­˜
- **Tailwind CSS** - æ ·å¼(å¦‚æœä½¿ç”¨)

## ğŸ› å·²çŸ¥é—®é¢˜

1. **EventList æŸ¥è¯¢é—®é¢˜**: `getOwnedObjects` å¯èƒ½æ— æ³•æŸ¥è¯¢åˆ°æ‰€æœ‰æ´»åŠ¨,å› ä¸º EventInfo æ˜¯ shared objectã€‚éœ€è¦æ”¹ç”¨ `getDynamicFields` æˆ–å…¶ä»–æŸ¥è¯¢æ–¹æ³•ã€‚

2. **å…ƒæ•°æ®ç¼ºå¤±**: å½“å‰åªæ˜¾ç¤ºé“¾ä¸Šçš„åŸºæœ¬ä¿¡æ¯,å®Œæ•´çš„æ´»åŠ¨å…ƒæ•°æ®éœ€è¦ä» Walrus è·å–ã€‚

3. **å›¾ç‰‡å±•ç¤º**: å½“å‰ä½¿ç”¨ emoji å ä½ç¬¦,éœ€è¦é›†æˆçœŸå®å›¾ç‰‡ã€‚

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜,è¯·æŸ¥çœ‹:
- [Sui æ–‡æ¡£](https://docs.sui.io)
- [@mysten/dapp-kit æ–‡æ¡£](https://sdk.mystenlabs.com/dapp-kit)
- [Walrus æ–‡æ¡£](https://docs.walrus.site)
